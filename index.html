<html>
<!--This game is going to be played completely from the console-->
<script>

    let playerScore = 0, computerScore = 0;

    //will randomly return either "rock", "paper", or "scissors"
    function computerPlayer(){
        let rand = Math.floor(Math.random() * 3);
        if(rand == 0)
            return "rock";
        else if(rand == 1)
            return "paper";
        else
            return "scissors";
    }

    function playRound(playerSelection, computerSelection){
        let result = 0;
        let message = [
            `Draw! Both of you chose "${playerSelection}"!`,
        `Your "${playerSelection}" LOSES to Computer's "${computerSelection}"!`,
        `Your "${playerSelection}" WINS to Computer's "${computerSelection}"!`
        ];

        if(playerSelection == "rock"){
            if(computerSelection == "rock")
                result = 0;
            else if(computerSelection == "paper"){
                computerScore++;
                result = 1;
            }
            else{
                playerScore++;
                result = 2;
            }
        }
        else if (playerSelection == "paper"){
            if(computerSelection == "rock"){
                playerScore++;
                result = 2;
            }
            else if(computerSelection == "paper")
            result = 0;
            else{
                computerScore++;
                result = 1;
            }
        }
        else{
            if(computerSelection == "rock"){
                computerScore++;
                result = 1;
            }
            else if(computerSelection == "paper"){
                playerScore++;
                result = 2;
            }
            else
                result = 0;
        }

        return (message[result] + ` You: ${playerScore} Computer: ${computerScore}`);
    }
    
    function game(){

        //Run 5 rounds of RPS
        for(let i = 0; i < 5; i++){
            let playerSelection = prompt(`Round ${i+1} of 5! Enter "rock", "paper", or "scissors":`);
            let computerSelection = computerPlayer();
            playerSelection = playerSelection.toLowerCase();

            //Check user input
            while(playerSelection != null && playerSelection != "rock" && playerSelection != "paper" && playerSelection != "scissors"){
                playerSelection = prompt(`Try again! Round ${i+1} of 5! Enter "rock", "paper", or "scissors":`);
            }


            if(playerSelection==null){
                computerScore++;
                console.log(`You forfeit this round! You: ${playerScore} Computer: ${computerScore}`)
            }
            else //run the RPS round
                console.log(playRound(playerSelection, computerSelection));
        }

        //Check match winner
        if (playerScore>computerScore)
            console.log(`You WON the match! You: ${playerScore} Computer: ${computerScore}`);
        else if (playerScore == computerScore)
            console.log(`The match is a DRAW! You: ${playerScore} Computer: ${computerScore}`);
        else
            console.log(`You LOST the match! You: ${playerScore} Computer: ${computerScore}`);
    }

    game();
</script>



</html>